# [The Twelve Factors](https://12factor.net/codebase) 정리

아래와 같은 특징을 가진 웹앱을 만들기 위한 방법론

- 설정 자동화를 위한 절차를 체계화 하여 새로운 개발자가 프로젝트에 참여하는데 드는 시간과 비용을 최소화한다.
- OS에 따라 달라지는 부분을 명확히하고, 실행 환경 사이의 이식성을 극대화 한다.
- 클라우드 플랫폼 배포에 적합하고, 서버와 시스템의 관리를 필요없게 한다
- 개발 환경과 운영 환경의 차이를 최소화하고 민첩성을 극대화하기 위해 지속적인 배포가 가능하다.
- 툴, 아키텍쳐, 개발 방식을 크게 바꾸지 않고 확장(scale up) 할 수 있다.

## 1. 코드베이스

`버전 관리되는 하나의 코드베이스와 다양한 배포`

앱은 항상 버전 컨트롤 시스템을 사용하여 변화를 추척하며, 코드베이스와 앱의 사이에는 항상 1대 1 관계가 성립한다. 여러개의 앱이 동일 코드를 공유한다면 공유하는 코드를 라이브러리화 시키고, 해당 라이브러리를 종속성 매니저로 관리해야한다. 그리고 코드베이스가 여러개 있는 경우는 앱이 아닌 분산시스템으로 봐야하며, 개별 앱이 Twelve-Factor를 따른다.

배포마다 다른 버전이 활성화 될 수는 있지만, 코드베이스 자체는 모든 배포에 동일하다.

## 2. 종속성

`명시적으로 선언되고 분리된 종속성`

종속성 선언을 이용하여 모든 종속성을 완전하고 엄격하게 선언한다. 즉 암시적으로 의존하지 않는다. 더나아가, 종속성 분리 툴을 사용하여 실행하는 동안 둘러싼 시스템으로 암묵적인 종속성 "유출"이 발생하지 않는 것을 보장한다. 파이썬의 경우 종속성 선언을 위해서 `pip`가 사용하고, 종속성 분리를 위해서 `virtualenv`를 사용한다.

## 3. 설정

`환경에 저장된 설정`

앱의 설정은 배포 환경마다 달라질수 있는 모든 것들이다. 이 설정들은 절대 상수 형태로 코드에 저장하지 않고, 환경변수에 저장한다. (버전 관리 시스템에 등록되지 않은 설정 파일을 이용하는 방법도 있지만 이는 실수로 코드 저장소에 올라갈 수도 있고,여러 위치에 여러 포맷으로 흩어지는 경향이 있어 모든 설정을 한 곳에서 관리하기 어려운 단점이 있다.)

## 4. 백엔드 서비스

`백엔드 서비스를 연결된 리소스로 취급`

백엔드 서비스는 애플리케이션 정상 동작 중 네트워크를 통해 이용하는 모든 서비스로 DB, 메세지 큐잉 시스템, 캐시 시스템 등이 있다. 애플리케이션은 DB와 같이 보통 직접 관리되는 서비스(로컬 서비스) 이외에, 서드파티에 의해서 제공되고 있는 서비스도 이용할 수 있다. 이때 Twelve-Factor App의 코드는 로컬 서비스와 서드파티 서비스를 구별하지 않고 모두 리소스로 취급한다. 이 리소스들은 느슨하게 결합되어 코드의 수정 없이, 자유롭게 배포에 연결되거나 분리될 수 있다. 