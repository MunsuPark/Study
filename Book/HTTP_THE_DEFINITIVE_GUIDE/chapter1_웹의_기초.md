# HTTP 개관

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

- 전 세계의 웹서버로부터 이 대량의 정보를 빠르고, 간편하고, 정확하게 사람들의 PC에 설치된 웹브라우저로 옮겨줌

- 신뢰성 있는 데이터 전송 프로토콜 사용: 데이터가 전송 중 파괴되거나, 중복되거나, 손상되지 않음을 보장

## 1.2 웹 클라이언트와 서버

웹 클라이언트(HTTP 클라이언트)는 서버에게 HTTP 요청을 보내고 서버는 요청된 데이터를 HTTP 응답으로 돌려준다.

## 1.3 리소스

웹 서버는 웹 리소스를 관리하고 제공한다.

- 리소스의 종류:

  - 정적 파일(ex.텍스트파일, HTML파일, 이미지파일, 동영상파일 등)

  - 동적 컨텐츠 리소스; 사용자의 요청에 따라 콘텐츠를 생산(ex. 주식거래 게이트웨이, 인터넷 검색엔진, 전자상거래 게이트웨이)

### 1.3.1 미디어타입

인터넷은 수천 가지의 데이터 타입을 다루기 때문에, HTTP는 웹에서 전송되는 객체 각각에 신중하게 MIME(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장) 타입이라는 데이터 포맷 라벨을 붙인다. 웹서버는 데이터 컨텐츠와 함께 MIME 타입을 보내준다.

- MIME 형식: 주타입과 부타입으로 이루어진 문자열 라벨

  - ex. text/html, text/plain, image/jpeg, image/gif, application/vdn.ms-powerpoint

### 1.3.2 URI

인터넷의 우편물 주소 같은 것으로, 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다. 이때의 리소스 이름을 URL(Uniform Resource Identifier, 통합 자원 식별자)라고 한다. URI는 URL과 URN으로 구성된다

### 1.3.3 URL

오늘날의 대부분의 URI이다. 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다.

- 표준 포맷: (스킴; 프로토콜) (서버의 인터넷 주소) (웹 서버의 리소스)

### 1.3.4 URN

리소스의 위치에 영향받지 않는 유일무이한 이름으로 현재는 여전히 실험중인 상태고 아직 널리 채택되지 않았다.

## 1.4 트랜젝션

HTTP 트랜젝션은 요청 명령과 응답 결과로 구성되어 있다.

### 1.4.1 메서드

모든 HTTP 요청 메세지는 한 개의 메서드를 갖는다.

- 대표적인 HTTP 메서드 종류

HTTP 메서드 | 설명
-|-
GET|서버에서 클라이언트로 지정한 리소스를 보내라
PUT|클라이언트에서 서버로 보낸 데이터를 지정한 이름의 리소스로 저장하라
DELETE|지정한 리소스를 서버에서 삭제하라
POST|클라이언트 데이터를 서버 게이트웨이 애플리케이션으로 보내라
HEAD|지정한 리소스에 대한 응답에서,HTTP 헤더 부분만 보내라

### 1.4.2 상태코드

모든 HTTP 응답 메세지는 상태 코드와 함께 반환된다

- 대표적인 HTTP 상태코드

HTTP 상태 코드|설명
-|-
200|좋다. 문서가 바르게 반환되었다
302|다시 보내라. 다른곳에 가서 리소스를 가져가라
404|없음. 리소스를 찾을 수 없다

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다.

애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜젝션을 수행한다.

## 1.5 메세지

요청과 응답 메세지 모두 시작줄, 헤더, 본문 형식으로 이루어진다.

- 시작줄: 메세지의 첫 줄은 시작줄로, 요청이라면 무엇을 해야 하는지 응답이라면 무슨일이 일어났는지 나타낸다.

- 헤더: 쌍점(:)으로 구분되어 있는 하나의 이름과 하나의 값으로 구성된다.

- 본문: 임의의 이진 데이터(ex. 이미지, 비디오, 오디오 등) 혹은 텍스트 형태의 데이터로 구성되어 있다.

## 1.6 TCP 커넥션

TCP(Transmission Control Protocol, 전송 제어 프로토콜)

### 1.6.1 TCP/IP

TCP/IP는 대중적이고 신뢰성 있는 인터넷 전송 프로토콜이다. 각 네트워크와 하드웨어의 특성을 숨기고, 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성 있는 의사소통을 하게 해준다. TCP는 다음을 제공한다.

- 오류 없는 데이터 전송

- 순서에 맞는 전달(데이터는 언제나 보낸 순서대로 도착한다)

- 조각나지 않는 데이터 스트림(언제든 어떤 크기로든 보낼 수 있다)

### 1.6.2 접속, IP 주소 그리고 포트번호

HTTP 클라이언트가 서버에 메세지를 전송할 수 있게 되기 전에, 인터넷 프로토콜(Internet protocol, IP) 주소와 포트번호를 사용하 클라이언트와 서버 사이에 TCP/IP 커넥션을 맺어야 한다.

- 웹브라우저가 어떻게 HTTP를 이용해서 멀리 떨어진 곳에 있는 서버의 단순한 HTML 리소스를 사용자에게 보여주는지에 대한 예시
  1. 웹브라우저는 서버의 URL에서 호스트 명을 추출한다.
  2. 웹브라우저는 서버의 호스트 명을 IP로 변환한다.
  3. 웹브라우저는 URL에서 포트번호(있다면)을 추출한다.
  4. 웹브라우저는 웹 서버와 TCP 커넥션을 맺는다.
  5. 웹브라우저는 서버에 HTTP 요청을 보낸다.
  6. 서버는 웹브라우저에 HTTP 응답을 돌려준다.
  7. 커넥션이 닫히면, 웹브라우저는 문서를 보여준다.

### 1.6.3 텔넷을 이용한 예제

## 1.7 프로토콜 버전

HTTP/1.1과 HTTP/2.0

## 1.8 웹의 구성요소

- 프락시: 클라이언트와 서버 사이에 위치한 HTTP 중개자

- 캐시: 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고

- 게이트웨이: 다른 애플리케이션과 연결된 특별한 웹서버

- 터널: 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시

- 에이전트: 자동화된 HTTP 요청을 만드는 준지능적(semi-intelligent) 웹클라이언트
